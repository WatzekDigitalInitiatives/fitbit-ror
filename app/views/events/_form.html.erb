<%= form_for(@event) do |f| %>
<% if @event.errors.any? %>
<div id="error_explanation">
    <h2><%= pluralize(@event.errors.count, "error") %>
        prohibited this event from being saved:</h2>

    <ul>
        <% @event.errors.full_messages.each do |message| %>
        <li><%= message %></li>
        <% end %>
    </ul>
</div>
<% end %>

<div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
</div>
<div class="field">
    <%= f.label :description %><br>
    <%= f.text_field :description, :maxlength => 200 %>
</div>

<% if @event.avatar? %>

  <p>
      <strong>Current Team Logo:</strong>
      <%= image_tag @event.avatar.url(:thumb) %>
  </p>

<% end %>

<div class="field">
    <%= f.label :avatar, 'Event logo' %><br/>
    <%= f.file_field :avatar %>
</div>
<div class="field">
    <%= f.label :start_date %><br>
    <%= f.text_field :start_date, class: "datepicker"%>
</div>
<div class="field">
    <%= f.label :finish_date %><br>
    <%= f.text_field :finish_date, class: "datepicker"%>
</div>
<div class="field">
    <%= f.label :start_location %><br>
    <%= f.text_field :start_location %>
</div>
<div class="field">
    <%= f.label :end_location %><br>
    <%= f.text_field :end_location %>
</div>
<div class="field">
    <%= f.label :distance, 'Distance (meters)' %><br>
    <%= f.text_field :distance, :readonly => true %>
</div>
<div class="field">
    <div class="switch">
        <label>
            Public
            <%= f.check_box :private, {}, "true", "false" %>
            <span class="lever"></span>
            Private
        </label>
    </div>
</div>
<div class="field">
    <div class="switch">
        <label>
            Individual Event
            <% if @teams.empty? %>
              <input disabled type="checkbox">
            <% end %>
            <%= f.check_box :team_event, {}, "true", "false" %>
            <span class="lever"></span>
            Team Event
        </label>
        <% if @teams.empty? %>
          <p>Sorry you don't have any teams to create a team event.</p>
        <% end %>
    </div>
</div>

<!-- add radio to select teams and change create controller to add that team when event is created -->


<br/>
<div id="eventMap" style="height: 400px;"></div>
<br/>
<div class="actions">
    <%= f.submit %>
</div>

<% end %>
