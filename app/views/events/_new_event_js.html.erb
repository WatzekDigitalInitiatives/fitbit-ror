<script>
      $(document).ready(function () {
        $('#new_event_form').hide();
        $('#selected_event').hide();
        $(".event_types").on('click', eventSelected);
        $("#selected_event").on('click', resetEvents);
      });
      // document ready function in create_event_map.html.erb
      $('.datepicker').pickadate({
          selectMonths: true, // Creates a dropdown to control month
          selectYears: 1 // Creates a dropdown of 1 years to control year

      });
      $('#event_start_date').change(function(e){
        var picker = $('#event_finish_date').pickadate('picker');
        var start_date = $('#event_start_date').val();
        picker.set({
          min: start_date,
          highlight: start_date
        });
        $('#event_finish_date').focus();
      });

      function eventSelected (){
        var type = this.id;
        $('.event_types').hide();
        var event_name = $(this).children().first().html();
        $('#selected_event').html(event_name);
        $('#selected_event').show('slow');
        if(type === 'nonending'){
          $('#event_finish_date').parent().hide();
        }
        else{
          // showing finish date because if user changes from nonending to other types, it'd be hidden
          $('#event_finish_date').parent().show();
        }
        $('#event_event_type').val(type);
        $('#new_event_form').show('slow');
        initialize();
      }

      function resetEvents(){
        $('#selected_event').hide();
        $('.event_types').show('slow');
        $('#new_event_form').hide();
      }
</script>
